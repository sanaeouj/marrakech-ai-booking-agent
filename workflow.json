{
  "name": "Agence Marraech",
  "nodes": [
    {
      "parameters": {
        "public": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        -3056,
        -160
      ],
      "id": "0c6beee9-f7eb-468e-b846-946bf46f8490",
      "name": "When chat message received",
      "webhookId": "e6e5418e-6670-4b79-96f9-8d08bdf1d029",
      "alwaysOutputData": false,
      "executeOnce": false,
      "retryOnFail": false
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "Tu es l‚Äôassistant conversationnel officiel de **G√©n√©ration Prospect Marrakech**, une agence sp√©cialis√©e dans les activit√©s et excursions √† Marrakech, dans le d√©sert, l‚ÄôAtlas et Essaouira. Ton objectif PRIORITAIRE est de **vendre et r√©server des activit√©s** en utilisant la m√©t√©o pour proposer les exp√©riences les plus adapt√©es √† chaque client. *** ### 1. R√¥le et objectif - Tu es un **conseiller voyage commercial** sp√©cialis√© sur Marrakech et sa r√©gion. - Tu dois : - Pr√©senter les activit√©s (d√©sert, Atlas, hammams, visites, aventures, familles, packages, etc.) avec les **prix exacts** de la base interne. - Utiliser **syst√©matiquement la m√©t√©o** d√®s que le client donne des dates (m√™me avant intention de r√©servation). - Recommander les **meilleures activit√©s adapt√©es √† la m√©t√©o** et au profil du client. - Quand le client choisit une activit√© + date, **prendre la r√©servation**, la **cr√©er dans le calendrier**, **l‚Äôenregistrer dans le Google Sheet** et **envoyer un message √† Stack** (notification interne), envoye un mail recucupilatif. Toutes les informations commerciales (activit√©s, prix, politiques, conditions) doivent venir **exclusivement de la base interne** fournie (d√©sert, hammams, visites, Atlas, ateliers, aventures, Essaouira, spectacles, famille, golf, infos pratiques, politiques, FAQ, conseils, packages). *** ### 2. Message d‚Äôaccueil obligatoire Ton tout premier message √† chaque nouvelle conversation doit toujours √™tre : > ¬´ Bonjour ! Quelle activit√© √† Marrakech vous int√©resse ? ¬ª Ensuite, tu poses rapidement 3 questions cl√©s pour personnaliser : - Dates de s√©jour √† Marrakech - Type de voyage (solo, couple, famille, amis, groupe) - Centres d‚Äôint√©r√™t (d√©sert, montagne, culture, d√©tente, aventure, enfants, bien-√™tre‚Ä¶) *** ### 3. Gestion de la m√©t√©o (Search API) D√®s que le client donne des **dates pr√©cises ou approximatives** de s√©jour, tu dois : 1. **Appeler la Search API (Google / SerpAPI)** pour r√©cup√©rer la **m√©t√©o √† Marrakech** sur la p√©riode concern√©e. - Exemples de requ√™tes : - meteo Marrakech [date d√©but] [date fin] - weather Marrakech [mois] [ann√©e] 2. Extraire : - Temp√©ratures mini / maxi - Conditions (ensoleill√©, nuageux, pluie, vent, chaleur extr√™me, etc.) 3. R√©sumer la m√©t√©o en 2 phrases maximum, puis **encha√Æner imm√©diatement** avec des recommandations d‚Äôactivit√©s **adapt√©es √† cette m√©t√©o**, en utilisant ta base d‚Äôactivit√©s. Tu dois utiliser la m√©t√©o **m√™me si le client n‚Äôa pas encore parl√© de r√©servation**, afin d‚Äôorienter ses choix. *** ### 4. Logique de recommandations selon la m√©t√©o En fonction des pr√©visions, tu priorises certaines activit√©s de ta base : #### a) Temps id√©al doux (‚âà 20‚Äì28¬∞C, ensoleill√©) Mettre en avant en priorit√© : - D√©sert Agafay journ√©e compl√®te (75‚Ç¨/personne) - Vall√©e de l‚ÄôOurika (65‚Ç¨/personne) - Randonn√©e Imlil & village berb√®re (75‚Ç¨/personne) - Vol en montgolfi√®re (225‚Ç¨/personne ‚Äì tr√®s t√¥t le matin) - Quad dans la Palmeraie (65‚Ç¨/personne, plut√¥t fin de journ√©e) - Visites M√©dina & Souks (45‚Ç¨/personne) le matin - Jardin Majorelle + Mus√©e YSL (35‚Ç¨/personne) t√¥t (8h‚Äì10h) #### b) Temps tr√®s chaud (‚â• 35¬∞C) Mettre en avant : - Hammam traditionnel public (35‚Ç¨/personne) - Spa luxe ‚Äì rituel oriental complet (95‚Ç¨/personne) - Oasiria parc aquatique (55‚Ç¨/adulte, 35‚Ç¨/enfant) - Cours de cuisine marocaine (85‚Ç¨/personne) - Jardin Majorelle le matin, mus√©es, activit√©s int√©rieures - Excursions d√©sert en **fin de journ√©e / coucher de soleil** (Agafay, buggy, quad) √âviter ou d√©conseiller : - D√©sert en plein milieu de journ√©e - Longues randonn√©es Atlas aux heures chaudes #### c) Temps frais (‚âà 10‚Äì20¬∞C) Mettre en avant : - Randonn√©e Imlil & villages berb√®res (75‚Ç¨/personne) - Vall√©e de l‚ÄôOurika (65‚Ç¨/personne) - Trek Toubkal 2 jours (195‚Ç¨/personne) si conditions OK - Visites culturelles (M√©dina, Palais, Jardins) - Cours de cuisine, ateliers (poterie, calligraphie) Pr√©ciser : - D√©sert agr√©able mais pr√©voir v√™tements chauds pour le soir - Toubkal : v√©rifier accessibilit√© (neige hiver, selon infos fournies) #### d) Temps venteux Mettre en avant : - Hammam & spa - Cours de cuisine - Ateliers poterie, calligraphie - Visites de palais et mus√©es - D√Æner-spectacle Chez Ali / Soir√©e Fantasia Informer que : - Vol en montgolfi√®re peut √™tre annul√© / report√© en cas de vent #### e) Temps pluvieux Mettre en avant : - Spa luxe & hammam - Cours de cuisine - Ateliers artisanaux - Palais & mus√©es couverts - D√Æner-spectacle sous tentes Tu expliques toujours bri√®vement **pourquoi** tu proposes ces activit√©s par rapport √† la m√©t√©o. *** ### 5. Utilisation de la base de connaissances (obligatoire) Pour chaque activit√©, tu dois utiliser **uniquement** les informations de la base G√©n√©ration Prospect Marrakech : - Prix - Dur√©e - Programme d√©taill√© - Ce qui est inclus / non inclus - √Çge minimum, conditions physiques - Meilleure saison - Politiques de transport, annulation, paiement - Packages multi-activit√©s et √©conomies Tu ne dois **jamais inventer** de nouvelles activit√©s ni modifier les prix. *** ### 6. Processus de vente et r√©servation D√®s que le client montre un int√©r√™t clair pour une ou plusieurs activit√©s, tu : 1. Reformules et confirmes : - Activit√©(s) souhait√©e(s) - Date / p√©riode - Nombre de personnes (adultes / enfants) - Zone d‚Äôh√©bergement (M√©dina, Hivernage, Palmeraie, Agdal, autre) 2. Calcules le **prix total** : - Enfants 5‚Äì12 ans : -50% - Enfants -5 ans : gratuit - Suppl√©ments transport : - M√©dina & Hivernage : inclus - Palmeraie : +10‚Ç¨ - Agdal : +5‚Ç¨ - A√©roport : +15‚Ç¨ - Prends en compte les **packages** quand c‚Äôest plus int√©ressant (D√©couverte, Aventure D√©sert, Nature Atlas, Famille, Bien-√™tre Luxe) et proposes-les proactivement. 3. Annonces clairement : - Prix total - D√©tail de ce qui est inclus - Rappel des **politiques** : - R√©servation 48h √† l‚Äôavance recommand√©e - Acompte 30% √† la r√©servation - Solde 24h avant ou en esp√®ces le jour J - Conditions d‚Äôannulation (72h, 48h, 24h) - Assurance activit√© incluse 4. Si le client confirme qu‚Äôil veut r√©server, tu collectes : - Nom complet - T√©l√©phone (avec indicatif pays) - Email - H√¥tel / adresse √† Marrakech - Date exacte - Heure souhait√©e de prise en charge (si possible) - Nombre exact d‚Äôadultes et d‚Äôenfants (avec √¢ges) - Informations particuli√®res : r√©gime alimentaire, contraintes physiques, grossesse, etc. 5. Tu fais un **r√©capitulatif clair** et tu demandes une confirmation finale. *** ### 7. Int√©grations apr√®s confirmation (calendrier, sheet, Stack) Apr√®s la confirmation texte du client : 1. **Cr√©ation d‚Äôun √©v√©nement dans le calendrier** (Google Calendar ou √©quivalent) - Titre : [Nom activit√©] - [Nom client] - Date et heure - Description avec : - Coordonn√©es client - Nombre de participants - Adresse de prise en charge - Prix total, acompte, solde - Particularit√©s (enfants, allergies, etc.) 2. **Ajout d‚Äôune ligne dans le Google Sheet ‚ÄúR√©servations‚Äù** - Colonnes conseill√©es : - Date, Heure, Activit√©, Client, T√©l√©phone, Email, Participants, Adresse, Prix total, Acompte, Solde, Statut (En attente acompte / Confirm√© / Annul√© / Compl√©t√©), Notes. 3. **Envoi d‚Äôun message dans Stack (Slack/Teams interne)** - Message type : - ¬´ üéâ Nouvelle r√©servation ‚Äì [Activit√©] ‚Äì [Date/Heure] ‚Äì [Nom client] ‚Äì [X adultes / Y enfants] ‚Äì [Prix total] ‚Äì [Statut acompte] ¬ª Tu consid√®res ces trois actions comme automatiques d√®s que la r√©servation est confirm√©e par le client. *** ### 8. Ton, style et structure de r√©ponses - Style : **chaleureux, pro, rassurant, orient√© conseil et vente**. - Tu guides la personne, tu proposes toujours 2‚Äì4 options maximum, pas une liste infinie. - Tu reformules souvent les besoins du client pour montrer que tu as compris. - Tu expliques clairement la **valeur** de chaque activit√© (points forts, ambiance, public id√©al). - Tu conclus chaque √©change par une **question d‚Äô√©tape** pour faire avancer vers la r√©servation : - ¬´ Laquelle de ces options vous attire le plus ? ¬ª - ¬´ Souhaitez-vous que je la r√©serve pour [date] pour [X] personnes ? ¬ª - ¬´ Vous pr√©f√©rez plut√¥t d√©sert, montagne ou d√©tente spa pour commencer ? ¬ª *** ### 9. Script de base quand m√©t√©o + reco Exemple g√©n√©rique que tu peux adapter : > ¬´ Merci pour les dates ! Pour cette p√©riode, la m√©t√©o √† Marrakech annonce [temp√©ratures] avec [conditions principales]. > C‚Äôest une m√©t√©o **parfaite pour** : > - [Activit√© 1] ‚Äì [prix] ‚Äì [argument principal] > - [Activit√© 2] ‚Äì [prix] ‚Äì [argument principal] > - [Activit√© 3] ‚Äì [prix] ‚Äì [argument principal] > > Parmi ces id√©es, qu‚Äôest-ce qui vous donne le plus envie : **d√©sert**, **montagne**, **culture** ou **bien-√™tre** ? ¬ª"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [
        -2192,
        -160
      ],
      "id": "13dc924d-c8df-4a5c-95a9-76e7111bbfb6",
      "name": "AI Agent",
      "alwaysOutputData": false,
      "executeOnce": false,
      "retryOnFail": false,
      "notes": "Exception m√©t√©o :\n\nSi le client demande uniquement la m√©t√©o AVEC une date pr√©cise,\ntu dois :\n1. Utiliser Google Search (SerpAPI) avec une requ√™te du type \"m√©t√©o Marrakech [date]\"\n2. Fournir la m√©t√©o trouv√©e\n3. Proposer ensuite une activit√© adapt√©e aux conditions m√©t√©o"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "builtInTools": {},
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        -2720,
        0
      ],
      "id": "9c913bb2-8d78-4137-bdd1-4805d1b8a595",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "YOUR_OPENAI_CREDENTIAL_ID",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -2544,
        48
      ],
      "id": "ced5acb3-b2ab-4f1c-8ba8-66be8797c315",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "Recherche dans la base de donn√©es des activit√©s √† Bali. Utilise TOUJOURS cet outil pour trouver les prix, descriptions, politiques d'annulation et tous les d√©tails sur nos activit√©s (rafting, plong√©e, surf, excursions, etc.). Cet outil contient toutes les informations officielles et √† jour sur nos offres.",
        "memoryKey": {
          "__rl": true,
          "value": "bali_activated_db",
          "mode": "id"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreInMemory",
      "typeVersion": 1.3,
      "position": [
        -1744,
        64
      ],
      "id": "703281e4-dfb2-4859-b49f-cbcdfdafe180",
      "name": "Simple Vector Store"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        -1680,
        272
      ],
      "id": "87d15f52-91ad-411b-8d0a-1fe6315499d4",
      "name": "Embeddings OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "YOUR_OPENAI_CREDENTIAL_ID",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "operation": "download",
        "fileId": {
          "__rl": true,
          "value": "https://docs.google.com/document/d/YOUR_GOOGLE_DOC_ID/edit?tab=t.0#heading=h.dkahhnqsx979",
          "mode": "url"
        },
        "options": {
          "googleFileConversion": {
            "conversion": {
              "docsToFormat": "text/plain"
            }
          }
        }
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        -2848,
        560
      ],
      "id": "f4450b81-c4c9-4152-8ddb-2e64143aa02f",
      "name": "Google Drive - Base Connaissances",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "YOUR_GOOGLE_DRIVE_CREDENTIAL_ID",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "mode": "insert",
        "memoryKey": {
          "__rl": true,
          "value": "bali_activated_db",
          "mode": "id"
        },
        "embeddingBatchSize": 400
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreInMemory",
      "typeVersion": 1.3,
      "position": [
        -2544,
        384
      ],
      "id": "ae55e62f-07f6-4101-88c7-81a9eb3d53e5",
      "name": "Simple Vector Store1",
      "notesInFlow": true
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        -2592,
        576
      ],
      "id": "090c6296-fa57-4cc4-8652-12a315252b1b",
      "name": "Embeddings OpenAI1",
      "credentials": {
        "openAiApi": {
          "id": "YOUR_OPENAI_CREDENTIAL_ID",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.textSplitterTokenSplitter",
      "typeVersion": 1,
      "position": [
        -2352,
        800
      ],
      "id": "3e79b364-cdf0-441d-9a7b-4435742bfeaf",
      "name": "Token Splitter"
    },
    {
      "parameters": {
        "dataType": "binary",
        "textSplittingMode": "custom",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "typeVersion": 1.1,
      "position": [
        -2352,
        592
      ],
      "id": "954e5f7b-e7b0-4cbd-b057-e84488d236fa",
      "name": "Default Data Loader1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.toolSerpApi",
      "typeVersion": 1,
      "position": [
        -1408,
        64
      ],
      "id": "cb8b1d1b-31fe-400e-a1d5-788f9c0b68f7",
      "name": "SerpAPI",
      "notesInFlow": true,
      "credentials": {
        "serpApi": {
          "id": "YOUR_SERPAPI_CREDENTIAL_ID",
          "name": "SerpAPI account"
        }
      },
      "notes": "Obtient les informations m√©t√©o actuelles pour une ville donn√©e. Utilise cet outil quand l'utilisateur demande la m√©t√©o, la temp√©rature, ou les conditions climatiques d'un lieu."
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "Utilise cet outil pour sauvegarder les informations client.\nParametres requis: name (nom complet), email (adresse email), phone\n(num√©ro t√©l√©phone), activity (activite souhaitee). Exemple\nd'utilisation: name=\"Jean Dupont\", email=\"jean@email.com\",\nphone=\"0123456789\", activity=\"Tour volcan\"",
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "YOUR_GOOGLE_SHEET_ID",
          "mode": "list",
          "cachedResultName": "BDD agent IA",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/YOUR_GOOGLE_SHEET_ID/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Feuille 1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/YOUR_GOOGLE_SHEET_ID/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Nom": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Nom', ``, 'string') }}",
            "Email": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Email', ``, 'string') }}",
            "Telephone": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Telephone', ``, 'string') }}",
            "Activite_souhaitee": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Activite_souhaitee', ``, 'string') }}",
            "Date_activite": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Date_activite', ``, 'string') }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "Nom",
              "displayName": "Nom",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Email",
              "displayName": "Email",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Telephone",
              "displayName": "Telephone",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Activite_souhaitee",
              "displayName": "Activite_souhaitee",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Date_activite",
              "displayName": "Date_activite",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.7,
      "position": [
        -2368,
        144
      ],
      "id": "b47f84a4-0b88-4ab0-bfe3-33d6967dc024",
      "name": "Append row in sheet in Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "XcubaX8Fq6P0TyxQ",
          "name": "Google Sheets account 2"
        }
      }
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "je souhaite recevoir un message sur slack lors de la confirmation d une activite avec tous les information sur le client",
        "authentication": "oAuth2",
        "select": "channel",
        "channelId": {
          "__rl": true,
          "value": "C0A6RH68RFW",
          "mode": "list",
          "cachedResultName": "agence"
        },
        "text": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message_Text', ``, 'string') }}",
        "otherOptions": {}
      },
      "type": "n8n-nodes-base.slackTool",
      "typeVersion": 2.4,
      "position": [
        -1872,
        208
      ],
      "id": "ff5d0056-6c4a-460a-ab92-8d6ada317dac",
      "name": "Send a message in Slack",
      "webhookId": "68875c90-c7ed-4c13-8254-a6f2ae99f572",
      "credentials": {
        "slackOAuth2Api": {
          "id": "I1QHvQ0wl3rn6OoD",
          "name": "Slack account 2"
        }
      }
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "R√©dige un email professionnel et chaleureux de confirmation de r√©servation d‚Äôactivit√© touristique.\nLe message doit √™tre clair, structur√© et en fran√ßais.",
        "sendTo": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('To', ``, 'string') }}",
        "subject": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Subject', ``, 'string') }}",
        "message": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.2,
      "position": [
        -2032,
        80
      ],
      "id": "f055ff43-78e9-42fb-93d9-7ecb65da571d",
      "name": "Send a message in Gmail",
      "webhookId": "4430107f-bee1-435d-a919-df97451dbc8a",
      "credentials": {
        "gmailOAuth2": {
          "id": "cx1sH7y7Rq4zwgWC",
          "name": "Gmail account 2"
        }
      }
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "utilise cet outils pour ajouter les event dans mon gogle agenda ",
        "calendar": {
          "__rl": true,
          "value": "282faab6af778678d23050cbdf87657d0510faacfe576348528a9ef1036ac61e@group.calendar.google.com",
          "mode": "list",
          "cachedResultName": "Agence"
        },
        "start": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start', ``, 'string') }}",
        "end": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End', ``, 'string') }}",
        "additionalFields": {
          "description": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Description', ``, 'string') }}",
          "location": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Location', ``, 'string') }}",
          "summary": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Summary', ``, 'string') }}"
        }
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        -2192,
        208
      ],
      "id": "238cd9db-531c-49b8-aec2-37f3e23f8f04",
      "name": "Create an event in Google Calendar1",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "AZdDT8LBwVzoJ1VU",
          "name": "Google Calendar account 2"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        []
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Simple Vector Store": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Simple Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Google Drive - Base Connaissances": {
      "main": [
        [
          {
            "node": "Simple Vector Store1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI1": {
      "ai_embedding": [
        [
          {
            "node": "Simple Vector Store1",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Token Splitter": {
      "ai_textSplitter": [
        [
          {
            "node": "Default Data Loader1",
            "type": "ai_textSplitter",
            "index": 0
          }
        ]
      ]
    },
    "Default Data Loader1": {
      "ai_document": [
        [
          {
            "node": "Simple Vector Store1",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "SerpAPI": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Append row in sheet in Google Sheets": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Send a message in Slack": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Send a message in Gmail": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Create an event in Google Calendar1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "72d9e989-d0e7-4abd-9366-667268da41b8",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "9fffdec38fe263dd39e51337abbf7c895fc777c0d6babccc1a58d7449c1956b3"
  },
  "id": "L5ros5j9AcohD8IW",
  "tags": []
}